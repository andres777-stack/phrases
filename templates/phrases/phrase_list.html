{%extends '_base.html'%} 

{%block title%} Phrases {%endblock%}
{%block main%} 
<a class="btn btn-success btn-sm float-right" href="{%url 'phrases:create'%}">+ New Phrase</a>
<h2>Phrases</h2>
<div class="table-responsive">
    <table class="table table-striped" style="min-width:500px">
        <thead>
            <tr>
                <th>Phrase</th>
                <th>Category</th>
                {% if user == phrase.user %}
                <th>Actions</th>
                {%else%} 
                <th>Creator</th>
                {%endif%}
            </tr>
        </thead>
        <tbody>
            {% for phrase in phrase_list %}
            <tr>
                <td>
                    <a href="{{phrase.get_absolute_url}}">{{phrase.sentence}}</a>
                </td>
                <td>
                    {{phrase.category.category}} <br>
                    {% for tag in phrase.tags.all %} 
                    <span class="badge badge-pill badge-secondary">{{tag.tag}}</span>
                    {%endfor%}  
                </td>
                {% if user == phrase.user %}
                <td>
                    <a href="{% url 'phrases:update' phrase.slug %}"><i class="fas fa-pencil-alt"></i></a>
                    <a href="{% url 'phrases:delete' phrase.slug %}"><i class="fas fa-trash-alt"></i></a>
                </td>
                {%else %}
                <td>
                    <p><small>By {{phrase.user.username}}</small></p>
                </td>
                {%endif%}
            </tr>
            {%endfor%}
        </tbody>
    </table>
</div>
{% include 'includes/pagination.html' %}
{%endblock%}